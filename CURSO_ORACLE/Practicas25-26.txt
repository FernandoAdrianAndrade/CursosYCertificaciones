CREATE TABLE PAISES(
    COD_PAIS NUMBER PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL CHECK(NOMBRE = UPPER(NOMBRE))
    );
    
CREATE TABLE CIUDADES(
    COD_CIUDAD NUMBER PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL CHECK(NOMBRE = UPPER(NOMBRE)),
    POBLACION NUMBER NOT NULL CHECK(POBLACION > 0),
    COD_PAIS NUMBER REFERENCES PAISES(COD_PAIS)
);

INSERT INTO PAISES VALUES(18,'ESTADOS UNIDOS');

INSERT INTO PAISES VALUES(19,'FRANCIA');

INSERT INTO CIUDADES VALUES (1,'NUEVA YORK',4000000,18);

INSERT INTO CIUDADES VALUES (2,'ROMA',3000000,20);

INSERT INTO PAISES VALUES(20,'ITALIA');

INSERT INTO CIUDADES VALUES (2,'venecia',1000000,20);
INSERT INTO CIUDADES VALUES (3,'TURIN',20,20);
INSERT INTO CIUDADES VALUES (4,'TURIN GRANDE',10000000,20);

CREATE TABLE CIUDADES_PEQUE AS SELECT * FROM CIUDADES WHERE POBLACION < 2000000;

ALTER TABLE CIUDADES_PEQUE ADD CONSTRAINT LLAVE_PRIMARIA PRIMARY KEY (COD_CIUDAD);
ALTER TABLE CIUDADES_PEQUE ADD BANDERA VARCHAR2(100);
INSERT INTO CIUDADES_PEQUE VALUES (4,'TURIN GRANDE ROJA',10000000,20,'ROJA');
ALTER TABLE CIUDADES_PEQUE DROP  COLUMN BANDERA;
DROP TABLE CIUDADES_PEQUE;

CREATE VIEW CIUDADES_GRANDES AS SELECT * FROM CIUDADES WHERE POBLACION > 3000000;
SELECT * FROM CIUDADES_GRANDES;

CREATE VIEW CIUDADES_USA AS SELECT * FROM CIUDADES WHERE COD_PAIS = 18;
SELECT * FROM CIUDADES_USA;

DROP VIEW CIUDADES_GRANDES;
DROP VIEW CIUDADES_USA;

CREATE UNIQUE INDEX NOMBRE_CIUDADES ON CIUDADES(NOMBRE);

CREATE SEQUENCE SEQ1 INCREMENT BY 5 MINVALUE 1;
SELECT * FROM PAISES;
INSERT INTO PAISES (COD_PAIS,NOMBRE) VALUES (SEQ1.NEXTVAL,'CANADA');
SELECT * FROM PAISES;
SELECT SEQ1.CURRVAL FROM DUAL;